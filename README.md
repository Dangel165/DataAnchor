# DataAnchor

<div align="center">

![Version](https://img.shields.io/badge/version-1.0-blue.svg)
![Python](https://img.shields.io/badge/python-3.x-green.svg)
![Platform](https://img.shields.io/badge/platform-Windows-lightgrey.svg)
![License](https://img.shields.io/badge/license-MIT-orange.svg)

</div>

---

## 📌 소개

**DataAnchor**는 Windows에서 삭제된 파일을 복구하는 강력한 데이터 복구 도구입니다.

### 이름의 의미
**Data + Anchor** = 데이터의 닻
- 잃어버린 데이터를 다시 고정시키는 도구
- 데이터 손실의 바다에서 파일을 건져올리는 닻
- 안전하게 데이터를 복구하여 고정시킨다

---

## ✨ 주요 기능

### 🗑️ 휴지통 복구
- Windows 휴지통에서 삭제된 파일 복구
- 원본 파일명 자동 복원
- 삭제 날짜 및 경로 정보 표시

### 📂 섀도우 복사본 (VSS) 복구
- Windows Volume Shadow Copy Service 활용
- 이전 버전의 파일 접근
- 시스템 복원 지점에서 파일 복구

### 📄 임시 파일 복구
- 임시 폴더에서 삭제된 파일 검색
- 브라우저 캐시 파일 복구
- 애플리케이션 임시 파일 복구

### 🕐 최근 파일 추적
- Windows 최근 파일 목록 스캔
- 빠른 접근 파일 복구
- 사용자 활동 기반 파일 검색

### 📱 QR 코드 복구
- 손상된 QR 코드 이미지 자동 복구
- 노이즈 제거 및 대비 향상
- 왜곡 보정 및 자동 디코딩
- 복구된 이미지 저장

### 💾 파티션 복구 및 관리
- 삭제되거나 손상된 파티션 스캔
- 드라이브 문자 할당
- 파일시스템 검사 (chkdsk)
- 파티션 테이블 백업
- **고급 기능**:
  - 파티션 크기 조정
  - 새 파티션 생성/삭제/포맷
  - GPT/MBR 변환
  - 미할당 공간 관리

---

## 🚀 설치 방법

### 필수 요구사항
- **OS**: Windows 10/11
- **Python**: 3.8 이상
- **관리자 권한**: 일부 기능 사용 시 필요

### 1. Python 설치
[Python 공식 웹사이트](https://www.python.org/downloads/)에서 Python 3.8 이상 다운로드

### 2. 의존성 설치
```bash
pip install -r file_recovery_requirements.txt
```

또는 자동 설치:
```bash
install_vss_dependencies.bat
```

### 3. 필수 라이브러리
```
pywin32
opencv-python
pillow
pyzbar
```

---

## 📖 사용 방법

### 기본 실행
```bash
python file_recovery_tool_real.py
```

### 관리자 권한으로 실행
```bash
# CMD를 관리자 권한으로 실행 후
python file_recovery_tool_real.py
```

또는 파일 탐색기에서:
1. `file_recovery_tool_real.py` 우클릭
2. "관리자 권한으로 실행" 선택

### 빠른 시작
```bash
run_file_recovery_clean.bat
```

---

## 🎯 사용 가이드

### 1️⃣ 파일 스캔
1. **드라이브 선택**: 스캔할 드라이브 선택
2. **스캔 소스 선택**: 
   - 휴지통
   - 섀도우 복사본
   - 임시 파일
   - 최근 파일
   - 모든 파일
3. **스캔 시작**: "스캔" 버튼 클릭

### 2️⃣ 파일 복구
1. **파일 선택**: 복구할 파일 선택
2. **복구 위치 선택**: 저장할 폴더 선택
3. **복구 실행**: "선택 파일 복구" 버튼 클릭

### 3️⃣ QR 코드 복구
1. **QR 코드 복구 버튼** 클릭
2. 손상된 QR 이미지 선택
3. 자동 복구 및 디코딩
4. 복구된 이미지 저장

### 4️⃣ 파티션 복구
1. **파티션 복구 버튼** 클릭
2. 디스크 선택
3. **파티션 스캔** 또는 **딥 스캔** 실행
4. 복구 작업 수행

---


## ⚙️ 고급 기능

### 파티션 복구 도구
- **일반 스캔**: 현재 파티션 정보 조회
- **딥 스캔**: 디스크 섹터 직접 읽기
  - NTFS, FAT32, FAT16, exFAT 시그니처 감지
  - EXT2/3/4, ReFS 지원
  - 최대 100GB 범위 스캔 (5-10분 소요)

### 파일 필터링
- 파일 형식별 필터
- 크기별 필터
- 날짜별 필터
- 경로별 필터

### 배치 작업
- 여러 파일 동시 복구
- 파일 목록 CSV 내보내기
- 복구 로그 저장

---

## 🔧 기술 스택

- **언어**: Python 3.x
- **GUI**: tkinter
- **이미지 처리**: OpenCV, Pillow
- **Windows API**: pywin32
- **QR 디코딩**: pyzbar
- **파티션 관리**: PowerShell

## ⚠️ 주의사항

### 관리자 권한
다음 기능은 관리자 권한이 필요합니다:
- ⚠️ 섀도우 복사본 (VSS) 복구
- ⚠️ 파티션 스캔 및 복구
- ⚠️ 파티션 생성/삭제/포맷
- ⚠️ GPT/MBR 변환

### 데이터 손실 위험
다음 작업은 데이터 손실 위험이 있습니다:
- 🚨 파티션 삭제
- 🚨 파티션 포맷
- 🚨 GPT/MBR 변환
- 🚨 파티션 크기 조정

### 복구 성공률
- **휴지통**: 95% 이상
- **섀도우 복사본**: 80% 이상 (복원 지점 존재 시)
- **임시 파일**: 60% 이상
- **QR 코드**: 70% 이상 (손상 정도에 따라)
- **파티션**: 50% 이상 (손상 정도에 따라)

---

## 🐛 문제 해결

### 프로그램이 실행되지 않음
```bash
# Python 캐시 삭제
run_file_recovery_clean.bat
```

### 라이브러리 오류
```bash
# 의존성 재설치
pip install -r file_recovery_requirements.txt --force-reinstall
```

### 파티션 복구 창이 열리지 않음
- `partition_recovery.py` 파일이 같은 폴더에 있는지 확인
- 관리자 권한으로 실행

### QR 코드 복구 실패
- OpenCV, pyzbar 설치 확인
- 이미지 파일이 너무 손상되지 않았는지 확인

---

## 💡 FAQ

### Q: 완전히 삭제된 파일도 복구 가능한가요?
A: 휴지통을 비운 파일은 섀도우 복사본이나 임시 파일에서 복구 가능할 수 있습니다. 단, 디스크에 새 데이터가 덮어쓰여지면 복구가 어렵습니다.

### Q: 다른 드라이브의 파일도 복구 가능한가요?
A: 네, 모든 드라이브를 선택하여 스캔할 수 있습니다.

### Q: 복구된 파일이 손상되어 있어요
A: 파일이 부분적으로 덮어쓰여진 경우 손상될 수 있습니다. 섀도우 복사본에서 이전 버전을 찾아보세요.

### Q: 파티션 복구는 안전한가요?
A: 스캔 및 조회는 안전하지만, 파티션 생성/삭제/포맷은 데이터 손실 위험이 있습니다. 반드시 백업 후 진행하세요.

### Q: 관리자 권한 없이 사용 가능한가요?
A: 기본 파일 복구는 가능하지만, VSS 복구와 파티션 관리는 관리자 권한이 필요합니다.

---

## 📝 버전 히스토리

### v1.0 (2024-02-06)
- ✨ 초기 릴리스
- ✅ 휴지통 복구
- ✅ 섀도우 복사본 (VSS) 복구
- ✅ 임시 파일 복구
- ✅ 최근 파일 추적
- ✅ QR 코드 복구
- ✅ 파티션 복구 및 관리
- ✅ 관리자 권한 자동 요청
- ✅ 다국어 지원 (한국어)

---

## 👨‍💻 개발자

**Dangel**

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.



이 프로젝트는 다음 오픈소스 라이브러리를 사용합니다:
- Python
- tkinter
- OpenCV
- Pillow
- pyzbar
- pywin32



Made with by Dangel


